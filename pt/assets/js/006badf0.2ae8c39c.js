"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[7559],{9613:(e,t,a)=>{a.d(t,{Zo:()=>d,kt:()=>k});var n=a(9496);function l(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(Object(a),!0).forEach((function(t){l(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function o(e,t){if(null==e)return{};var a,n,l=function(e,t){if(null==e)return{};var a,n,l={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(l[a]=e[a]);return l}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(l[a]=e[a])}return l}var p=n.createContext({}),s=function(e){var t=n.useContext(p),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},d=function(e){var t=s(e.components);return n.createElement(p.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},m=n.forwardRef((function(e,t){var a=e.components,l=e.mdxType,r=e.originalType,p=e.parentName,d=o(e,["components","mdxType","originalType","parentName"]),m=s(a),k=l,c=m["".concat(p,".").concat(k)]||m[k]||u[k]||r;return a?n.createElement(c,i(i({ref:t},d),{},{components:a})):n.createElement(c,i({ref:t},d))}));function k(e,t){var a=arguments,l=t&&t.mdxType;if("string"==typeof e||l){var r=a.length,i=new Array(r);i[0]=m;var o={};for(var p in t)hasOwnProperty.call(t,p)&&(o[p]=t[p]);o.originalType=e,o.mdxType="string"==typeof e?e:l,i[1]=o;for(var s=2;s<r;s++)i[s]=a[s];return n.createElement.apply(null,i)}return n.createElement.apply(null,a)}m.displayName="MDXCreateElement"},453:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>d,contentTitle:()=>p,default:()=>k,frontMatter:()=>o,metadata:()=>s,toc:()=>u});var n=a(2081),l=a(4604),r=(a(9496),a(9613)),i=["components"],o={id:"npmrc",title:".npmrc"},p=void 0,s={unversionedId:"npmrc",id:"npmrc",title:".npmrc",description:"O pnpm obt\xe9m sua configura\xe7\xe3o da linha de comando, vari\xe1veis de ambiente e arquivos .npmrc.",source:"@site/i18n/pt/docusaurus-plugin-content-docs/current/npmrc.md",sourceDirName:".",slug:"/npmrc",permalink:"/pt/next/npmrc",draft:!1,editUrl:"https://crowdin.com/project/pnpm/pt-BR",tags:[],version:"current",frontMatter:{id:"npmrc",title:".npmrc"},sidebar:"docs",previous:{title:"package.json",permalink:"/pt/next/package_json"},next:{title:"pnpm-workspace.yaml",permalink:"/pt/next/pnpm-workspace_yaml"}},d={},u=[{value:"Configura\xe7\xf5es de eleva\xe7\xe3o de depend\xeancia",id:"configura\xe7\xf5es-de-eleva\xe7\xe3o-de-depend\xeancia",level:2},{value:"hoist",id:"hoist",level:3},{value:"hoist-pattern",id:"hoist-pattern",level:3},{value:"public-hoist-pattern",id:"public-hoist-pattern",level:3},{value:"shamefully-hoist",id:"shamefully-hoist",level:3},{value:"Configura\xe7\xf5es de M\xf3dulos Node",id:"configura\xe7\xf5es-de-m\xf3dulos-node",level:2},{value:"store-dir",id:"store-dir",level:3},{value:"modules-dir",id:"modules-dir",level:3},{value:"node-linker",id:"node-linker",level:3},{value:"symlink",id:"symlink",level:3},{value:"enable-modules-dir",id:"enable-modules-dir",level:3},{value:"virtual-store-dir",id:"virtual-store-dir",level:3},{value:"package-import-method",id:"package-import-method",level:3},{value:"modules-cache-max-age",id:"modules-cache-max-age",level:3},{value:"Configura\xe7\xf5es do arquivo de bloqueio",id:"configura\xe7\xf5es-do-arquivo-de-bloqueio",level:2},{value:"lockfile",id:"lockfile",level:3},{value:"prefer-frozen-lockfile",id:"prefer-frozen-lockfile",level:3},{value:"lockfile-include-tarball-url",id:"lockfile-include-tarball-url",level:3},{value:"Configura\xe7\xf5es de Autentica\xe7\xe3o &amp; Registro",id:"configura\xe7\xf5es-de-autentica\xe7\xe3o--registro",level:2},{value:"registry",id:"registry",level:3},{value:"&lt;escopo&gt;:registry",id:"escoporegistry",level:4},{value:"&lt;URL&gt;:_authToken",id:"url_authtoken",level:3},{value:"&lt;URL&gt;:tokenHelper",id:"urltokenhelper",level:3},{value:"&lt;URL&gt;:always-auth",id:"urlalways-auth",level:3},{value:"Configura\xe7\xf5es de Requisi\xe7\xe3o",id:"configura\xe7\xf5es-de-requisi\xe7\xe3o",level:2},{value:"ca",id:"ca",level:3},{value:"cafile",id:"cafile",level:3},{value:"cert",id:"cert",level:3},{value:"key",id:"key",level:3},{value:"git-shallow-hosts",id:"git-shallow-hosts",level:3},{value:"https-proxy",id:"https-proxy",level:3},{value:"local-address",id:"local-address",level:3},{value:"proxy",id:"proxy",level:3},{value:"maxsockets",id:"maxsockets",level:3},{value:"noproxy",id:"noproxy",level:3},{value:"strict-ssl",id:"strict-ssl",level:3},{value:"network-concurrency",id:"network-concurrency",level:3},{value:"fetch-retries",id:"fetch-retries",level:3},{value:"fetch-retry-factor",id:"fetch-retry-factor",level:3},{value:"fetch-retry-mintimeout",id:"fetch-retry-mintimeout",level:3},{value:"fetch-retry-maxtimeout",id:"fetch-retry-maxtimeout",level:3},{value:"fetch-timeout",id:"fetch-timeout",level:3},{value:"Configura\xe7\xf5es de depend\xeancia de pares",id:"configura\xe7\xf5es-de-depend\xeancia-de-pares",level:2},{value:"auto-install-peers",id:"auto-install-peers",level:3},{value:"strict-peer-dependencies",id:"strict-peer-dependencies",level:3},{value:"Configura\xe7\xf5es da CLI",id:"configura\xe7\xf5es-da-cli",level:2},{value:"no-color",id:"no-color",level:3},{value:"loglevel",id:"loglevel",level:3},{value:"use-beta-cli",id:"use-beta-cli",level:3},{value:"recursive-install",id:"recursive-install",level:3},{value:"engine-strict",id:"engine-strict",level:3},{value:"npm-path",id:"npm-path",level:3},{value:"Configura\xe7\xf5es de compila\xe7\xe3o",id:"configura\xe7\xf5es-de-compila\xe7\xe3o",level:2},{value:"ignore-scripts",id:"ignore-scripts",level:3},{value:"ignore-dep-scripts",id:"ignore-dep-scripts",level:3},{value:"child-concurrency",id:"child-concurrency",level:3},{value:"side-effects-cache",id:"side-effects-cache",level:3},{value:"side-effects-cache-readonly",id:"side-effects-cache-readonly",level:3},{value:"unsafe-perm",id:"unsafe-perm",level:3},{value:"Configura\xe7\xf5es do Node.js",id:"configura\xe7\xf5es-do-nodejs",level:2},{value:"use-node-version",id:"use-node-version",level:3},{value:"node-version",id:"node-version",level:3},{value:"node-mirror:&lt;releaseDir&gt;",id:"node-mirrorreleasedir",level:3},{value:"Configura\xe7\xf5es da Workspace (\xc1rea de Trabalho)",id:"configura\xe7\xf5es-da-workspace-\xe1rea-de-trabalho",level:2},{value:"link-workspace-packages",id:"link-workspace-packages",level:3},{value:"prefer-workspace-packages",id:"prefer-workspace-packages",level:3},{value:"shared-workspace-lockfile",id:"shared-workspace-lockfile",level:3},{value:"save-workspace-protocol",id:"save-workspace-protocol",level:3},{value:"include-workspace-root",id:"include-workspace-root",level:3},{value:"Outras configura\xe7\xf5es",id:"outras-configura\xe7\xf5es",level:2},{value:"use-running-store-server",id:"use-running-store-server",level:3},{value:"save-prefix",id:"save-prefix",level:3},{value:"tag",id:"tag",level:3},{value:"global-dir",id:"global-dir",level:3},{value:"global-bin-dir",id:"global-bin-dir",level:3},{value:"state-dir",id:"state-dir",level:3},{value:"cache-dir",id:"cache-dir",level:3},{value:"use-stderr",id:"use-stderr",level:3},{value:"update-notifier",id:"update-notifier",level:3},{value:"prefer-symlinked-executables",id:"prefer-symlinked-executables",level:3},{value:"verify-store-integrity",id:"verify-store-integrity",level:3},{value:"ignore-compatibility-db",id:"ignore-compatibility-db",level:3},{value:"resolution-mode",id:"resolution-mode",level:3},{value:"registry-supports-time-field",id:"registry-supports-time-field",level:3}],m={toc:u};function k(e){var t=e.components,a=(0,l.Z)(e,i);return(0,r.kt)("wrapper",(0,n.Z)({},m,a,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"O pnpm obt\xe9m sua configura\xe7\xe3o da linha de comando, vari\xe1veis de ambiente e arquivos ",(0,r.kt)("inlineCode",{parentName:"p"},".npmrc"),"."),(0,r.kt)("p",null,"O comando ",(0,r.kt)("inlineCode",{parentName:"p"},"pnpm config")," pode ser usado para atualizar e editar o conte\xfado dos arquivos user e global ",(0,r.kt)("inlineCode",{parentName:"p"},".npmrc"),"."),(0,r.kt)("p",null,"Os quatro arquivos relevantes s\xe3o:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"arquivo de configura\xe7\xe3o por projeto (",(0,r.kt)("inlineCode",{parentName:"li"},"/path/to/my/project/.npmrc"),")"),(0,r.kt)("li",{parentName:"ul"},"arquivo de configura\xe7\xe3o por \xe1rea de trabalho (o diret\xf3rio que cont\xe9m o arquivo ",(0,r.kt)("inlineCode",{parentName:"li"},"pnpm-workspace.yaml"),")"),(0,r.kt)("li",{parentName:"ul"},"arquivo de configura\xe7\xe3o por usu\xe1rio (",(0,r.kt)("inlineCode",{parentName:"li"},"~/.npmrc"),")"),(0,r.kt)("li",{parentName:"ul"},"arquivo de configura\xe7\xe3o global (",(0,r.kt)("inlineCode",{parentName:"li"},"/etc/npmrc"),")")),(0,r.kt)("p",null,"Todos os arquivos ",(0,r.kt)("inlineCode",{parentName:"p"},".npmrc")," s\xe3o ",(0,r.kt)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/INI_file"},"listas")," formatadas em INI de par\xe2metros ",(0,r.kt)("inlineCode",{parentName:"p"},"chave = valor"),"."),(0,r.kt)("h2",{id:"configura\xe7\xf5es-de-eleva\xe7\xe3o-de-depend\xeancia"},"Configura\xe7\xf5es de eleva\xe7\xe3o de depend\xeancia"),(0,r.kt)("h3",{id:"hoist"},"hoist"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Valor padr\xe3o: ",(0,r.kt)("strong",{parentName:"li"},"false")),(0,r.kt)("li",{parentName:"ul"},"Tipo: ",(0,r.kt)("strong",{parentName:"li"},"Boolean"))),(0,r.kt)("p",null,"Quando ",(0,r.kt)("inlineCode",{parentName:"p"},"true"),", todas as depend\xeancias s\xe3o elevadas para ",(0,r.kt)("inlineCode",{parentName:"p"},"node_modules/.pnpm"),". Isso torna depend\xeancias n\xe3o listadas acess\xedveis a todos os pacotes dentro ",(0,r.kt)("inlineCode",{parentName:"p"},"node_modules"),"."),(0,r.kt)("h3",{id:"hoist-pattern"},"hoist-pattern"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Valor padr\xe3o: ",(0,r.kt)("strong",{parentName:"li"},"false")),(0,r.kt)("li",{parentName:"ul"},"Tipo: ",(0,r.kt)("strong",{parentName:"li"},"Boolean"))),(0,r.kt)("p",null,"Diz ao pnpm quais pacotes devem ser elevados para ",(0,r.kt)("inlineCode",{parentName:"p"},"node_modules/.pnpm"),". Por padr\xe3o, todos os pacotes s\xe3o elevados - no entanto, se voc\xea sabe que apenas alguns pacotes falhos t\xeam depend\xeancias fantasmas, voc\xea pode usar esta op\xe7\xe3o para elevar exclusivamente as depend\xeancias fantasmas (recomendado)."),(0,r.kt)("p",null,"Por exemplo:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ini"},"hoist-pattern[]=*eslint*\nhoist-pattern[]=*babel*\n")),(0,r.kt)("p",null,"Since v7.12.0, you may also exclude patterns from hoisting using ",(0,r.kt)("inlineCode",{parentName:"p"},"!"),"."),(0,r.kt)("p",null,"For instance:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ini"},"hoist-pattern[]=*types*\nhoist-pattern[]=!@types/react\n")),(0,r.kt)("h3",{id:"public-hoist-pattern"},"public-hoist-pattern"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Padr\xe3o: ",(0,r.kt)("strong",{parentName:"li"},"['","*","eslint","*","', '","*","mais bonito","*","']")),(0,r.kt)("li",{parentName:"ul"},"Tipo: ",(0,r.kt)("strong",{parentName:"li"},"Boolean"))),(0,r.kt)("p",null,"Unlike ",(0,r.kt)("inlineCode",{parentName:"p"},"hoist-pattern"),", which hoists dependencies to a hidden modules directory inside the virtual store, ",(0,r.kt)("inlineCode",{parentName:"p"},"public-hoist-pattern")," hoists dependencies matching the pattern to the root modules directory. Hoisting to the root modules directory means that application code will have access to phantom dependencies, even if they modify the resolution strategy improperly."),(0,r.kt)("p",null,"This setting is useful when dealing with some flawed pluggable tools that don't resolve dependencies properly."),(0,r.kt)("p",null,"For instance:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"public-hoist-pattern[]=*plugin*\n")),(0,r.kt)("p",null,"Note: Setting ",(0,r.kt)("inlineCode",{parentName:"p"},"shamefully-hoist")," to ",(0,r.kt)("inlineCode",{parentName:"p"},"true")," is the same as setting ",(0,r.kt)("inlineCode",{parentName:"p"},"public-hoist-pattern")," to ",(0,r.kt)("inlineCode",{parentName:"p"},"*"),"."),(0,r.kt)("p",null,"Since v7.12.0, you may also exclude patterns from hoisting using ",(0,r.kt)("inlineCode",{parentName:"p"},"!"),"."),(0,r.kt)("p",null,"For instance:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ini"},"public-hoist-pattern[]=*types*\npublic-hoist-pattern[]=!@types/react\n")),(0,r.kt)("h3",{id:"shamefully-hoist"},"shamefully-hoist"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Padr\xe3o: ",(0,r.kt)("strong",{parentName:"li"},"low")),(0,r.kt)("li",{parentName:"ul"},"Tipo: ",(0,r.kt)("strong",{parentName:"li"},"Boolean"))),(0,r.kt)("p",null,"By default, pnpm creates a semistrict ",(0,r.kt)("inlineCode",{parentName:"p"},"node_modules"),", meaning dependencies have access to undeclared dependencies but modules outside of ",(0,r.kt)("inlineCode",{parentName:"p"},"node_modules")," do not. With this layout, most of the packages in the ecosystem work with no issues. However, if some tooling only works when the hoisted dependencies are in the root of ",(0,r.kt)("inlineCode",{parentName:"p"},"node_modules"),", you can set this to ",(0,r.kt)("inlineCode",{parentName:"p"},"true")," to hoist them for you."),(0,r.kt)("h2",{id:"configura\xe7\xf5es-de-m\xf3dulos-node"},"Configura\xe7\xf5es de M\xf3dulos Node"),(0,r.kt)("h3",{id:"store-dir"},"store-dir"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Padr\xe3o:",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"Se a vari\xe1vel env ",(0,r.kt)("strong",{parentName:"li"},"$XDG_DATA_HOME")," estiver definida, ent\xe3o ",(0,r.kt)("strong",{parentName:"li"},"$XDG_DATA_HOME/pnpm/store")),(0,r.kt)("li",{parentName:"ul"},"No Windows: ",(0,r.kt)("strong",{parentName:"li"},"~/AppData/Local/pnpm/store")),(0,r.kt)("li",{parentName:"ul"},"No macOS: ",(0,r.kt)("strong",{parentName:"li"},"~/Library/pnpm/store")),(0,r.kt)("li",{parentName:"ul"},"No Linux: ",(0,r.kt)("strong",{parentName:"li"},"~/.local/share/pnpm/store")))),(0,r.kt)("li",{parentName:"ul"},"Tipo: ",(0,r.kt)("strong",{parentName:"li"},"caminho"))),(0,r.kt)("p",null,"The location where all the packages are saved on the disk."),(0,r.kt)("p",null,"The store should be always on the same disk on which installation is happening, so there will be one store per disk. Se houver um diret\xf3rio inicial no disco atual, o armazenamento ser\xe1 criado dentro dele. Se n\xe3o houver home no disco,, o armazenamento ser\xe1 criado na raiz do sistema de arquivos. For example, if installation is happening on a filesystem mounted at ",(0,r.kt)("inlineCode",{parentName:"p"},"/mnt"),", then the store will be created at ",(0,r.kt)("inlineCode",{parentName:"p"},"/mnt/.pnpm-store"),". The same goes for Windows systems."),(0,r.kt)("p",null,"It is possible to set a store from a different disk but in that case pnpm will copy packages from the store instead of hard-linking them, as hard links are only possible on the same filesystem."),(0,r.kt)("h3",{id:"modules-dir"},"modules-dir"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Padr\xe3o: ",(0,r.kt)("strong",{parentName:"li"},"node_modules")),(0,r.kt)("li",{parentName:"ul"},"Tipo: ",(0,r.kt)("strong",{parentName:"li"},"caminho"))),(0,r.kt)("p",null,"The directory in which dependencies will be installed (instead of ",(0,r.kt)("inlineCode",{parentName:"p"},"node_modules"),")."),(0,r.kt)("h3",{id:"node-linker"},"node-linker"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Padr\xe3o: ",(0,r.kt)("strong",{parentName:"li"}," isolated ")),(0,r.kt)("li",{parentName:"ul"},"Tipo: ",(0,r.kt)("strong",{parentName:"li"},"isolated"),", ",(0,r.kt)("strong",{parentName:"li"},"hoisted"),", ",(0,r.kt)("strong",{parentName:"li"},"pnp"))),(0,r.kt)("p",null,"Defines what linker should be used for installing Node packages."),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"isolated")," - as depend\xeancias s\xe3o vinculadas a partir de uma loja virtual em ",(0,r.kt)("inlineCode",{parentName:"li"},"node_modules/.pnpm"),"."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"hoisted")," - um ",(0,r.kt)("inlineCode",{parentName:"li"},"node_modules")," limpo sem links simb\xf3licos \xe9 criado. O mesmo que ",(0,r.kt)("inlineCode",{parentName:"li"},"node_modules")," criado por npm ou Yarn Classic. Raz\xf5es leg\xedtimas para usar esta configura\xe7\xe3o:",(0,r.kt)("ol",{parentName:"li"},(0,r.kt)("li",{parentName:"ol"},"Suas ferramentas n\xe3o funcionam bem com links simb\xf3licos. Um Projeto Native reagir\xe1 muito provavelmente s\xf3 funcionar\xe1 se voc\xea usar um hoisted ",(0,r.kt)("inlineCode",{parentName:"li"},"node_modules"),"."),(0,r.kt)("li",{parentName:"ol"},"Seu projeto \xe9 implantado em um provedor de hospedagem sem servidor. Alguns provedores sem servidor (por exemplo, AWS Lambda) n\xe3o oferecem suporte a links simb\xf3licos. Uma solu\xe7\xe3o alternativa para esse problema \xe9 agrupar seu aplicativo antes da implanta\xe7\xe3o."),(0,r.kt)("li",{parentName:"ol"},"Se voc\xea deseja publicar seu pacote com ",(0,r.kt)("a",{parentName:"li",href:"https://docs.npmjs.com/cli/v8/configuring-npm/package-json#bundleddependencies"},(0,r.kt)("inlineCode",{parentName:"a"},'"bundledDependencies"')),"."),(0,r.kt)("li",{parentName:"ol"},"Se voc\xea estiver executando o Node.js com o par\xe2metro ",(0,r.kt)("a",{parentName:"li",href:"https://nodejs.org/api/cli.html#cli_preserve_symlinks"},"--preserve-symlinks"),"."))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"pnp")," - sem ",(0,r.kt)("inlineCode",{parentName:"li"},"node_modules"),". Plug'n'Play \xe9 uma estrat\xe9gia inovadora para Node que \xe9 ",(0,r.kt)("a",{parentName:"li",href:"https://yarnpkg.com/features/pnp"},"utilizada pelo Yarn Berry"),". Recomenda-se tamb\xe9m definir a configura\xe7\xe3o ",(0,r.kt)("inlineCode",{parentName:"li"},"symlink")," para ",(0,r.kt)("inlineCode",{parentName:"li"},"false")," ao usar ",(0,r.kt)("inlineCode",{parentName:"li"},"pnp")," como seu vinculador.")),(0,r.kt)("h3",{id:"symlink"},"symlink"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Valor padr\xe3o: ",(0,r.kt)("strong",{parentName:"li"},"true")),(0,r.kt)("li",{parentName:"ul"},"Tipo: ",(0,r.kt)("strong",{parentName:"li"},"Boolean"))),(0,r.kt)("p",null,"When ",(0,r.kt)("inlineCode",{parentName:"p"},"symlink")," is set to ",(0,r.kt)("inlineCode",{parentName:"p"},"false"),", pnpm creates a virtual store directory without any symlinks. It is a useful setting together with ",(0,r.kt)("inlineCode",{parentName:"p"},"node-linker=pnp"),"."),(0,r.kt)("h3",{id:"enable-modules-dir"},"enable-modules-dir"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Valor padr\xe3o: ",(0,r.kt)("strong",{parentName:"li"},"true")),(0,r.kt)("li",{parentName:"ul"},"Tipo: ",(0,r.kt)("strong",{parentName:"li"},"Boolean"))),(0,r.kt)("p",null,"When ",(0,r.kt)("inlineCode",{parentName:"p"},"false"),", pnpm will not write any files to the modules directory (",(0,r.kt)("inlineCode",{parentName:"p"},"node_modules"),"). This is useful for when the modules directory is mounted with filesystem in userspace (FUSE). There is an experimental CLI that allows you to mount a modules directory with FUSE: ",(0,r.kt)("a",{parentName:"p",href:"https://www.npmjs.com/package/@pnpm/mount-modules"},"@pnpm/mount-modules"),"."),(0,r.kt)("h3",{id:"virtual-store-dir"},"virtual-store-dir"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Padr\xe3o: ",(0,r.kt)("strong",{parentName:"li"},"node_modules/.pnpm")),(0,r.kt)("li",{parentName:"ul"},"Tipo: ",(0,r.kt)("strong",{parentName:"li"},"caminho"))),(0,r.kt)("p",null,"The directory with links to the store. All direct and indirect dependencies of the project are linked into this directory."),(0,r.kt)("p",null,"This is a useful setting that can solve issues with long paths on Windows. If you have some dependencies with very long paths, you can select a virtual store in the root of your drive (for instance ",(0,r.kt)("inlineCode",{parentName:"p"},"C:\\my-project-store"),")."),(0,r.kt)("p",null,"Or you can set the virtual store to ",(0,r.kt)("inlineCode",{parentName:"p"},".pnpm")," and add it to ",(0,r.kt)("inlineCode",{parentName:"p"},".gitignore"),". This will make stacktraces cleaner as paths to dependencies will be one directory higher."),(0,r.kt)("p",null,(0,r.kt)("strong",{parentName:"p"},"NOTE:")," the virtual store cannot be shared between several projects. Every project should have its own virtual store (except for in workspaces where the root is shared)."),(0,r.kt)("h3",{id:"package-import-method"},"package-import-method"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Padr\xe3o: ",(0,r.kt)("strong",{parentName:"li"},"auto")),(0,r.kt)("li",{parentName:"ul"},"Type: ",(0,r.kt)("strong",{parentName:"li"},"auto"),", ",(0,r.kt)("strong",{parentName:"li"},"hardlink"),", ",(0,r.kt)("strong",{parentName:"li"},"copy"),", ",(0,r.kt)("strong",{parentName:"li"},"clone"),", ",(0,r.kt)("strong",{parentName:"li"},"clone-or-copy"))),(0,r.kt)("p",null,"Controls the way packages are imported from the store."),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"auto")," - tente clonar pacotes da loja. Se a clonagem n\xe3o for suportada, ent\xe3o os pacotes hardlink da loja. Se nem a clonagem nem a vincula\xe7\xe3o forem poss\xedveis, volte a copiar"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"hardlink")," - pacotes de links r\xedgidos da loja"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"clone-or-copy")," - tenta clonar pacotes a partir da store. Se a clonagem n\xe3o \xe9 suportada, ent\xe3o volte para copia comum"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"copy")," - copia pacotes da loja"),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"clone")," - pacotes clone (tamb\xe9m conhecido como ",(0,r.kt)("inlineCode",{parentName:"li"},"copy-on-write")," ou link de refer\xeancia) da loja")),(0,r.kt)("p",null,"Clonagem \xe9 a melhor maneira de escrever pacotes para node_modules. \xc9 a maneira mais r\xe1pida e segura. Quando a clonagem \xe9 utilizada, voc\xea pode editar arquivos em sua node_modules e eles n\xe3o ser\xe3o modificados no dep\xf3sito central de conte\xfado endere\xe7aveis."),(0,r.kt)("p",null,"Infelizmente, nem todos os sistemas de arquivos suportam clonagem. N\xf3s recomendamos usar um sistema de arquivos copy-on-write (CoW) (tal como Btrfs em vez de Ext4 no Linux), para obter a melhor experi\xeancia com o pnpm."),(0,r.kt)("admonition",{type:"info"},(0,r.kt)("p",{parentName:"admonition"},"Embora o macOS suporte clonagem, atualmente existe ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/libuv/libuv/pull/2578"},"um bug no Node.js")," que nos impede us\xe1-lo no pnpm. Se voc\xea tem alguma ideia de como consert\xe1-lo, ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/pnpm/pnpm/issues/5001"},"ajude-nos"),".")),(0,r.kt)("h3",{id:"modules-cache-max-age"},"modules-cache-max-age"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Padr\xe3o: ",(0,r.kt)("strong",{parentName:"li"},"10080")," (7 dias em minutos)"),(0,r.kt)("li",{parentName:"ul"},"Tipo: ",(0,r.kt)("strong",{parentName:"li"},"n\xfamero"))),(0,r.kt)("p",null,"The time in minutes after which orphan packages from the modules directory should be removed. pnpm keeps a cache of packages in the modules directory. This boosts installation speed when switching branches or downgrading dependencies."),(0,r.kt)("h2",{id:"configura\xe7\xf5es-do-arquivo-de-bloqueio"},"Configura\xe7\xf5es do arquivo de bloqueio"),(0,r.kt)("h3",{id:"lockfile"},"lockfile"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Padr\xe3o: ",(0,r.kt)("strong",{parentName:"li"},"true")),(0,r.kt)("li",{parentName:"ul"},"Tipo: ",(0,r.kt)("strong",{parentName:"li"},"Boolean"))),(0,r.kt)("p",null,"When set to ",(0,r.kt)("inlineCode",{parentName:"p"},"false"),", pnpm won't read or generate a ",(0,r.kt)("inlineCode",{parentName:"p"},"pnpm-lock.yaml")," file."),(0,r.kt)("h3",{id:"prefer-frozen-lockfile"},"prefer-frozen-lockfile"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Padr\xe3o: ",(0,r.kt)("strong",{parentName:"li"},"true")),(0,r.kt)("li",{parentName:"ul"},"Tipo: ",(0,r.kt)("strong",{parentName:"li"},"Boolean"))),(0,r.kt)("p",null,"When set to ",(0,r.kt)("inlineCode",{parentName:"p"},"true")," and the available ",(0,r.kt)("inlineCode",{parentName:"p"},"pnpm-lock.yaml")," satisfies the ",(0,r.kt)("inlineCode",{parentName:"p"},"package.json")," dependencies directive, a headless installation is performed. A headless installation skips all dependency resolution as it does not need to modify the lockfile."),(0,r.kt)("h3",{id:"lockfile-include-tarball-url"},"lockfile-include-tarball-url"),(0,r.kt)("p",null,"Adicionado em: v7.6.0"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Padr\xe3o: ",(0,r.kt)("strong",{parentName:"li"},"low")),(0,r.kt)("li",{parentName:"ul"},"Tipo: ",(0,r.kt)("strong",{parentName:"li"},"Boolean"))),(0,r.kt)("p",null,"Adiciona a URL completa ao tarball do pacote para cada entrada em ",(0,r.kt)("inlineCode",{parentName:"p"},"pnpm-lock.yaml"),"."),(0,r.kt)("h2",{id:"configura\xe7\xf5es-de-autentica\xe7\xe3o--registro"},"Configura\xe7\xf5es de Autentica\xe7\xe3o & Registro"),(0,r.kt)("h3",{id:"registry"},"registry"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Padr\xe3o: ",(0,r.kt)("strong",{parentName:"li"},(0,r.kt)("a",{parentName:"strong",href:"https://registry.npmjs.org/"},"https://registry.npmjs.org/"))),(0,r.kt)("li",{parentName:"ul"},"Tipo: ",(0,r.kt)("strong",{parentName:"li"},"url"))),(0,r.kt)("p",null,"The base URL of the npm package registry (trailing slash included)."),(0,r.kt)("h4",{id:"escoporegistry"},"<","escopo",">",":registry"),(0,r.kt)("p",null,"The npm registry that should be used for packages of the specified scope. For example, setting ",(0,r.kt)("inlineCode",{parentName:"p"},"@babel:registry=https://example.com/packages/npm/")," will enforce that when you use ",(0,r.kt)("inlineCode",{parentName:"p"},"pnpm add @babel/core"),", or any ",(0,r.kt)("inlineCode",{parentName:"p"},"@babel")," scoped package, the package will be fetched from ",(0,r.kt)("inlineCode",{parentName:"p"},"https://example.com/packages/npm")," instead of the default registry."),(0,r.kt)("h3",{id:"url_authtoken"},"<","URL",">",":_authToken"),(0,r.kt)("p",null,"Define the authentication bearer token to use when accessing the specified registry. Por exemplo:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sh"},"//registry.npmjs.org/:_authToken=xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx \n")),(0,r.kt)("p",null,"You may also use an environment variable. Por exemplo:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"//registry.npmjs.org/:_authToken=${NPM_TOKEN}\n")),(0,r.kt)("p",null,"Or you may just use an environment variable directly, without changing ",(0,r.kt)("inlineCode",{parentName:"p"},".npmrc")," at all:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"npm_config_//registry.npmjs.org/:_authToken=xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx \n")),(0,r.kt)("h3",{id:"urltokenhelper"},"<","URL",">",":tokenHelper"),(0,r.kt)("p",null,"A token helper is an executable which outputs an auth token. This can be used in situations where the authToken is not a constant value but is something that refreshes regularly, where a script or other tool can use an existing refresh token to obtain a new access token."),(0,r.kt)("p",null,"The configuration for the path to the helper must be an absolute path, with no arguments. In order to be secure, it is only permitted to set this value in the user ",(0,r.kt)("inlineCode",{parentName:"p"},".npmrc"),". Otherwise a project could place a value in a project's local ",(0,r.kt)("inlineCode",{parentName:"p"},".npmrc")," and run arbitrary executables."),(0,r.kt)("p",null,"Setting a token helper for the default registry:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"tokenHelper=/home/ivan/token-generator\n")),(0,r.kt)("p",null,"Setting a token helper for the specified registry:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"//registry.corp.com:tokenHelper=/home/ivan/token-generator\n")),(0,r.kt)("h3",{id:"urlalways-auth"},"<","URL",">",":always-auth"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Padr\xe3o: ",(0,r.kt)("strong",{parentName:"li"},"low")),(0,r.kt)("li",{parentName:"ul"},"Tipo: ",(0,r.kt)("strong",{parentName:"li"},"Boolean"))),(0,r.kt)("p",null,"Force pnpm to always require authentication (even for GET requests) when accessing the specified registry. Por exemplo:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sh"},"@babel:registry=https://gitlab.com/api/v4/packages/npm/\n//gitlab.com/api/v4/packages/npm/:always-auth=true\n\nregistry=https://registry.npmjs.org/\n//registry.npmjs.org/:always-auth=true\n")),(0,r.kt)("h2",{id:"configura\xe7\xf5es-de-requisi\xe7\xe3o"},"Configura\xe7\xf5es de Requisi\xe7\xe3o"),(0,r.kt)("h3",{id:"ca"},"ca"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Padr\xe3o: ",(0,r.kt)("strong",{parentName:"li"},"O certificado CA do npm")),(0,r.kt)("li",{parentName:"ul"},"Tipo: ",(0,r.kt)("strong",{parentName:"li"},"String, Array ou null"))),(0,r.kt)("p",null,'The Certificate Authority signing certificate that is trusted for SSL connections to the registry. Values should be in PEM format (AKA "Base-64 encoded X.509 (.CER)"). Por exemplo:'),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sh"},'ca="-----BEGIN CERTIFICATE-----\\nXXXX\\nXXXX\\n-----END CERTIFICATE-----"\n')),(0,r.kt)("p",null,"Set to null to only allow known registrars, or to a specific CA cert to trust only that specific signing authority."),(0,r.kt)("p",null,"Multiple CAs can be trusted by specifying an array of certificates:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sh"},'ca[]="..."\nca[]="..."\n')),(0,r.kt)("p",null,"See also the ",(0,r.kt)("inlineCode",{parentName:"p"},"strict-ssl")," config."),(0,r.kt)("h3",{id:"cafile"},"cafile"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Padr\xe3o: ",(0,r.kt)("strong",{parentName:"li"},"null")),(0,r.kt)("li",{parentName:"ul"},"Tipo: ",(0,r.kt)("strong",{parentName:"li"},"caminho"))),(0,r.kt)("p",null,"A path to a file containing one or multiple Certificate Authority signing certificates. Similar to the ",(0,r.kt)("inlineCode",{parentName:"p"},"ca")," setting, but allows for multiple CAs, as well as for the CA information to be stored in a file instead of being specified via CLI."),(0,r.kt)("h3",{id:"cert"},"cert"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Padr\xe3o: ",(0,r.kt)("strong",{parentName:"li"},"null")),(0,r.kt)("li",{parentName:"ul"},"Tipo: ",(0,r.kt)("strong",{parentName:"li"},"String"))),(0,r.kt)("p",null,'A client certificate to pass when accessing the registry. Values should be in PEM format (AKA "Base-64 encoded X.509 (.CER)"). Por exemplo:'),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-test"},'cert="-----BEGIN CERTIFICATE-----\\nXXXX\\nXXXX\\n-----END CERTIFICATE-----"\n')),(0,r.kt)("p",null,"It is not the path to a certificate file (and there is no ",(0,r.kt)("inlineCode",{parentName:"p"},"certfile")," option)."),(0,r.kt)("h3",{id:"key"},"key"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Padr\xe3o: ",(0,r.kt)("strong",{parentName:"li"},"null")),(0,r.kt)("li",{parentName:"ul"},"Tipo: ",(0,r.kt)("strong",{parentName:"li"},"String"))),(0,r.kt)("p",null,'A client key to pass when accessing the registry. Values should be in PEM format (AKA "Base-64 encoded X.509 (.CER)"). Por exemplo:'),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-sh"},'key="-----BEGIN PRIVATE KEY-----\\nXXXX\\nXXXX\\n-----END PRIVATE KEY-----"\n')),(0,r.kt)("p",null,"It is not the path to a key file (and there is no ",(0,r.kt)("inlineCode",{parentName:"p"},"keyfile")," option)."),(0,r.kt)("p",null,"Essa configura\xe7\xe3o cont\xe9m informa\xe7\xf5es confidenciais. N\xe3o o grave em um arquivo local ",(0,r.kt)("inlineCode",{parentName:"p"},".npmrc")," confirmado no reposit\xf3rio."),(0,r.kt)("h3",{id:"git-shallow-hosts"},"git-shallow-hosts"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Padr\xe3o: ",(0,r.kt)("strong",{parentName:"li"},"['github.com', 'gist.github.com', 'gitlab.com', 'bitbucket.com', 'bitbucket.org']")),(0,r.kt)("li",{parentName:"ul"},"Tipo: ",(0,r.kt)("strong",{parentName:"li"},"Boolean"))),(0,r.kt)("p",null,"Ao buscar depend\xeancias que s\xe3o reposit\xf3rios Git, se o host estiver listado nesta configura\xe7\xe3o, o pnpm usar\xe1 clonagem superficial para buscar apenas o commit necess\xe1rio, n\xe3o todo o hist\xf3rico."),(0,r.kt)("h3",{id:"https-proxy"},"https-proxy"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Padr\xe3o: ",(0,r.kt)("strong",{parentName:"li"},"null")),(0,r.kt)("li",{parentName:"ul"},"Tipo: ",(0,r.kt)("strong",{parentName:"li"},"url"))),(0,r.kt)("p",null,"A proxy to use for outgoing HTTPS requests. If the ",(0,r.kt)("inlineCode",{parentName:"p"},"HTTPS_PROXY"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"https_proxy"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"HTTP_PROXY")," or ",(0,r.kt)("inlineCode",{parentName:"p"},"http_proxy")," environment variables are set, their values will be used instead."),(0,r.kt)("h3",{id:"local-address"},"local-address"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Default: ",(0,r.kt)("strong",{parentName:"li"},"undefined")),(0,r.kt)("li",{parentName:"ul"},"Type: ",(0,r.kt)("strong",{parentName:"li"},"IP Address"))),(0,r.kt)("p",null,"The IP address of the local interface to use when making connections to the npm registry."),(0,r.kt)("h3",{id:"proxy"},"proxy"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Padr\xe3o: ",(0,r.kt)("strong",{parentName:"li"},"null")),(0,r.kt)("li",{parentName:"ul"},"Tipo: ",(0,r.kt)("strong",{parentName:"li"},"url"))),(0,r.kt)("p",null,"A proxy to use for outgoing http requests. If the HTTP_PROXY or http_proxy environment variables are set, proxy settings will be honored by the underlying request library."),(0,r.kt)("h3",{id:"maxsockets"},"maxsockets"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Default: ",(0,r.kt)("strong",{parentName:"li"},"network-concurrency x 3")),(0,r.kt)("li",{parentName:"ul"},"Tipo: ",(0,r.kt)("strong",{parentName:"li"},"Number"))),(0,r.kt)("p",null,"The maximum number of connections to use per origin (protocol/host/port combination)."),(0,r.kt)("h3",{id:"noproxy"},"noproxy"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Padr\xe3o: ",(0,r.kt)("strong",{parentName:"li"},"null")),(0,r.kt)("li",{parentName:"ul"},"Tipo: ",(0,r.kt)("strong",{parentName:"li"},"String"))),(0,r.kt)("p",null,"A comma-separated string of domain extensions that a proxy should not be used for."),(0,r.kt)("h3",{id:"strict-ssl"},"strict-ssl"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Valor padr\xe3o: ",(0,r.kt)("strong",{parentName:"li"},"false")),(0,r.kt)("li",{parentName:"ul"},"Tipo: ",(0,r.kt)("strong",{parentName:"li"},"Boolean"))),(0,r.kt)("p",null,"Whether or not to do SSL key validation when making requests to the registry via HTTPS."),(0,r.kt)("p",null,"See also the ",(0,r.kt)("inlineCode",{parentName:"p"},"ca")," option."),(0,r.kt)("h3",{id:"network-concurrency"},"network-concurrency"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Default: ",(0,r.kt)("strong",{parentName:"li"},"16")),(0,r.kt)("li",{parentName:"ul"},"Tipo: ",(0,r.kt)("strong",{parentName:"li"},"Number"))),(0,r.kt)("p",null,"Controls the maximum number of HTTP(S) requests to process simultaneously."),(0,r.kt)("h3",{id:"fetch-retries"},"fetch-retries"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Default: ",(0,r.kt)("strong",{parentName:"li"},"2")),(0,r.kt)("li",{parentName:"ul"},"Tipo: ",(0,r.kt)("strong",{parentName:"li"},"Number"))),(0,r.kt)("p",null,"How many times to retry if pnpm fails to fetch from the registry."),(0,r.kt)("h3",{id:"fetch-retry-factor"},"fetch-retry-factor"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Default: ",(0,r.kt)("strong",{parentName:"li"},"10")),(0,r.kt)("li",{parentName:"ul"},"Tipo: ",(0,r.kt)("strong",{parentName:"li"},"Number"))),(0,r.kt)("p",null,"The exponential factor for retry backoff."),(0,r.kt)("h3",{id:"fetch-retry-mintimeout"},"fetch-retry-mintimeout"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Default: ",(0,r.kt)("strong",{parentName:"li"},"10000 (10 seconds)")),(0,r.kt)("li",{parentName:"ul"},"Tipo: ",(0,r.kt)("strong",{parentName:"li"},"Number"))),(0,r.kt)("p",null,"The minimum (base) timeout for retrying requests."),(0,r.kt)("h3",{id:"fetch-retry-maxtimeout"},"fetch-retry-maxtimeout"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Padr\xe3o: ",(0,r.kt)("strong",{parentName:"li"},"60000 (1 minuto)")),(0,r.kt)("li",{parentName:"ul"},"Tipo: ",(0,r.kt)("strong",{parentName:"li"},"Number"))),(0,r.kt)("p",null,"The maximum fallback timeout to ensure the retry factor does not make requests too long."),(0,r.kt)("h3",{id:"fetch-timeout"},"fetch-timeout"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Default: ",(0,r.kt)("strong",{parentName:"li"},"60000 (1 minute)")),(0,r.kt)("li",{parentName:"ul"},"Tipo: ",(0,r.kt)("strong",{parentName:"li"},"Number"))),(0,r.kt)("p",null,"The maximum amount of time to wait for HTTP requests to complete."),(0,r.kt)("h2",{id:"configura\xe7\xf5es-de-depend\xeancia-de-pares"},"Configura\xe7\xf5es de depend\xeancia de pares"),(0,r.kt)("h3",{id:"auto-install-peers"},"auto-install-peers"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Padr\xe3o: ",(0,r.kt)("strong",{parentName:"li"},"low")),(0,r.kt)("li",{parentName:"ul"},"Tipo: ",(0,r.kt)("strong",{parentName:"li"},"Boolean"))),(0,r.kt)("p",null,"When ",(0,r.kt)("inlineCode",{parentName:"p"},"true"),", any missing non-optional peer dependencies are automatically installed."),(0,r.kt)("h3",{id:"strict-peer-dependencies"},"strict-peer-dependencies"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Default: ",(0,r.kt)("strong",{parentName:"li"},"false")," (was ",(0,r.kt)("strong",{parentName:"li"},"true")," from v7.0.0 until v7.13.5)"),(0,r.kt)("li",{parentName:"ul"},"Tipo: ",(0,r.kt)("strong",{parentName:"li"},"Boolean"))),(0,r.kt)("p",null,"If this is enabled, commands will fail if there is a missing or invalid peer dependency in the tree."),(0,r.kt)("h2",{id:"configura\xe7\xf5es-da-cli"},"Configura\xe7\xf5es da CLI"),(0,r.kt)("h3",{id:"no-color"},"[no-]","color"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Padr\xe3o: ",(0,r.kt)("strong",{parentName:"li"},"auto")),(0,r.kt)("li",{parentName:"ul"},"Type: ",(0,r.kt)("strong",{parentName:"li"},"auto"),", ",(0,r.kt)("strong",{parentName:"li"},"always"),", ",(0,r.kt)("strong",{parentName:"li"},"never"))),(0,r.kt)("p",null,"Controls colors in the output."),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"auto")," - output uses colors when the standard output is a terminal or TTY."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"always")," - ignore the difference between terminals and pipes. You\u2019ll rarely want this; in most scenarios, if you want color codes in your redirected output, you can instead pass a ",(0,r.kt)("inlineCode",{parentName:"li"},"--color")," flag to the pnpm command to force it to use color codes. The default setting is almost always what you\u2019ll want."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"never")," - turns off colors. This is the setting used by ",(0,r.kt)("inlineCode",{parentName:"li"},"--no-color"),".")),(0,r.kt)("h3",{id:"loglevel"},"loglevel"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Default: ",(0,r.kt)("strong",{parentName:"li"},"info")),(0,r.kt)("li",{parentName:"ul"},"Type: ",(0,r.kt)("strong",{parentName:"li"},"debug"),", ",(0,r.kt)("strong",{parentName:"li"},"info"),", ",(0,r.kt)("strong",{parentName:"li"},"warn"),", ",(0,r.kt)("strong",{parentName:"li"},"error"))),(0,r.kt)("p",null,"Any logs at or higher than the given level will be shown. You can instead pass ",(0,r.kt)("inlineCode",{parentName:"p"},"--silent")," to turn off all output logs."),(0,r.kt)("h3",{id:"use-beta-cli"},"use-beta-cli"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Padr\xe3o: ",(0,r.kt)("strong",{parentName:"li"},"low")),(0,r.kt)("li",{parentName:"ul"},"Tipo: ",(0,r.kt)("strong",{parentName:"li"},"Boolean"))),(0,r.kt)("p",null,"Experimental option that enables beta features of the CLI. This means that you may get some changes to the CLI functionality that are breaking changes, or potentially bugs."),(0,r.kt)("h3",{id:"recursive-install"},"recursive-install"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Valor padr\xe3o: ",(0,r.kt)("strong",{parentName:"li"},"false")),(0,r.kt)("li",{parentName:"ul"},"Tipo: ",(0,r.kt)("strong",{parentName:"li"},"Boolean"))),(0,r.kt)("p",null,"If this is enabled, the primary behaviour of ",(0,r.kt)("inlineCode",{parentName:"p"},"pnpm install")," becomes that of ",(0,r.kt)("inlineCode",{parentName:"p"},"pnpm install -r"),", meaning the install is performed on all workspace or subdirectory packages."),(0,r.kt)("p",null,"Else, ",(0,r.kt)("inlineCode",{parentName:"p"},"pnpm install")," will exclusively build the package in the current directory."),(0,r.kt)("h3",{id:"engine-strict"},"engine-strict"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Padr\xe3o: ",(0,r.kt)("strong",{parentName:"li"},"low")),(0,r.kt)("li",{parentName:"ul"},"Tipo: ",(0,r.kt)("strong",{parentName:"li"},"Boolean"))),(0,r.kt)("p",null,"If this is enabled, pnpm will not install any package that claims to not be compatible with the current Node version."),(0,r.kt)("p",null,"Regardless of this configuration, installation will always fail if a project (not a dependency) specifies an incompatible version in its ",(0,r.kt)("inlineCode",{parentName:"p"},"engines")," field."),(0,r.kt)("h3",{id:"npm-path"},"npm-path"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Tipo: ",(0,r.kt)("strong",{parentName:"li"},"caminho"))),(0,r.kt)("p",null,"The location of the npm binary that pnpm uses for some actions, like publishing."),(0,r.kt)("h2",{id:"configura\xe7\xf5es-de-compila\xe7\xe3o"},"Configura\xe7\xf5es de compila\xe7\xe3o"),(0,r.kt)("h3",{id:"ignore-scripts"},"ignore-scripts"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Padr\xe3o: ",(0,r.kt)("strong",{parentName:"li"},"low")),(0,r.kt)("li",{parentName:"ul"},"Tipo: ",(0,r.kt)("strong",{parentName:"li"},"Boolean"))),(0,r.kt)("p",null,"Do not execute any scripts defined in the project ",(0,r.kt)("inlineCode",{parentName:"p"},"package.json")," and its dependencies."),(0,r.kt)("admonition",{type:"note"},(0,r.kt)("p",{parentName:"admonition"},"This flag does not prevent the execution of ",(0,r.kt)("a",{parentName:"p",href:"../pnpmfile.md"},".pnpmfile.cjs"))),(0,r.kt)("h3",{id:"ignore-dep-scripts"},"ignore-dep-scripts"),(0,r.kt)("p",null,"Adicionado na vers\xe3o: v7.9.0"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Padr\xe3o: ",(0,r.kt)("strong",{parentName:"li"},"low")),(0,r.kt)("li",{parentName:"ul"},"Tipo: ",(0,r.kt)("strong",{parentName:"li"},"Boolean"))),(0,r.kt)("p",null,"Do not execute any scripts of the installed packages. Scripts of the projects are executed."),(0,r.kt)("h3",{id:"child-concurrency"},"child-concurrency"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Padr\xe3o: ",(0,r.kt)("strong",{parentName:"li"},"5")),(0,r.kt)("li",{parentName:"ul"},"Tipo: ",(0,r.kt)("strong",{parentName:"li"},"Number"))),(0,r.kt)("p",null,"The maximum number of child processes to allocate simultaneously to build node_modules."),(0,r.kt)("h3",{id:"side-effects-cache"},"side-effects-cache"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Valor padr\xe3o: ",(0,r.kt)("strong",{parentName:"li"},"false")),(0,r.kt)("li",{parentName:"ul"},"Tipo: ",(0,r.kt)("strong",{parentName:"li"},"Boolean"))),(0,r.kt)("p",null,"Use and cache the results of (pre/post)install hooks."),(0,r.kt)("h3",{id:"side-effects-cache-readonly"},"side-effects-cache-readonly"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Padr\xe3o: ",(0,r.kt)("strong",{parentName:"li"},"low")),(0,r.kt)("li",{parentName:"ul"},"Tipo: ",(0,r.kt)("strong",{parentName:"li"},"Boolean"))),(0,r.kt)("p",null,"Only use the side effects cache if present, do not create it for new packages."),(0,r.kt)("h3",{id:"unsafe-perm"},"unsafe-perm"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Padr\xe3o: ",(0,r.kt)("strong",{parentName:"li"},"false")," se executar como root; caso contr\xe1rio, ",(0,r.kt)("strong",{parentName:"li"},"true")),(0,r.kt)("li",{parentName:"ul"},"Tipo: ",(0,r.kt)("strong",{parentName:"li"},"Boolean"))),(0,r.kt)("p",null,"Set to true to enable UID/GID switching when running package scripts. If set explicitly to false, then installing as a non-root user will fail."),(0,r.kt)("h2",{id:"configura\xe7\xf5es-do-nodejs"},"Configura\xe7\xf5es do Node.js"),(0,r.kt)("h3",{id:"use-node-version"},"use-node-version"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Default: ",(0,r.kt)("strong",{parentName:"li"},"undefined")),(0,r.kt)("li",{parentName:"ul"},"Type: ",(0,r.kt)("strong",{parentName:"li"},"semver"))),(0,r.kt)("p",null,"Specifies which exact Node.js version should be used for the project's runtime. pnpm will automatically install the specified version of Node.js and use it for running ",(0,r.kt)("inlineCode",{parentName:"p"},"pnpm run")," commands or the ",(0,r.kt)("inlineCode",{parentName:"p"},"pnpm node")," command."),(0,r.kt)("p",null,"This may be used instead of ",(0,r.kt)("inlineCode",{parentName:"p"},".nvmrc")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"nvm"),". Instead of the following ",(0,r.kt)("inlineCode",{parentName:"p"},".nvmrc")," file:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"16.16.0\n")),(0,r.kt)("p",null,"Use this ",(0,r.kt)("inlineCode",{parentName:"p"},".npmrc")," file:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"use-node-version=16.16.0\n")),(0,r.kt)("h3",{id:"node-version"},"node-version"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Default: the value returned by ",(0,r.kt)("strong",{parentName:"li"},"node -v"),", without the v prefix"),(0,r.kt)("li",{parentName:"ul"},"Type: ",(0,r.kt)("strong",{parentName:"li"},"semver"))),(0,r.kt)("p",null,"The Node.js version to use when checking a package's ",(0,r.kt)("inlineCode",{parentName:"p"},"engines")," setting."),(0,r.kt)("p",null,"If you want to prevent contributors of your project from adding new incompatible dependencies, use ",(0,r.kt)("inlineCode",{parentName:"p"},"node-version")," and ",(0,r.kt)("inlineCode",{parentName:"p"},"engine-strict")," in a ",(0,r.kt)("inlineCode",{parentName:"p"},".npmrc")," file at the root of the project:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-ini"},"node-version=12.22.0\nengine-strict=true\n")),(0,r.kt)("p",null,"This way, even if someone is using Node.js v16, they will not be able to install a new dependency that doesn't support Node.js v12.22.0."),(0,r.kt)("h3",{id:"node-mirrorreleasedir"},"node-mirror:","<","releaseDir>"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Default: ",(0,r.kt)("strong",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"strong"},"https://nodejs.org/download/<releaseDir>/"))),(0,r.kt)("li",{parentName:"ul"},"Type: ",(0,r.kt)("strong",{parentName:"li"},"URL"))),(0,r.kt)("p",null,"Sets the base URL for downloading Node.js. The ",(0,r.kt)("inlineCode",{parentName:"p"},"<releaseDir>")," portion of this setting can be any directory from ",(0,r.kt)("a",{parentName:"p",href:"https://nodejs.org/download"},"https://nodejs.org/download"),": ",(0,r.kt)("inlineCode",{parentName:"p"},"release"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"rc"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"nightly"),", ",(0,r.kt)("inlineCode",{parentName:"p"},"v8-canary"),", etc."),(0,r.kt)("p",null,"Here is how pnpm may be configured to download Node.js from Node.js mirror in China:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre"},"node-mirror:release=https://npmmirror.com/mirrors/node/\nnode-mirror:rc=https://npmmirror.com/mirrors/node-rc/\nnode-mirror:nightly=https://npmmirror.com/mirrors/node-nightly/\n")),(0,r.kt)("h2",{id:"configura\xe7\xf5es-da-workspace-\xe1rea-de-trabalho"},"Configura\xe7\xf5es da Workspace (\xc1rea de Trabalho)"),(0,r.kt)("h3",{id:"link-workspace-packages"},"link-workspace-packages"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Valor padr\xe3o: ",(0,r.kt)("strong",{parentName:"li"},"false")),(0,r.kt)("li",{parentName:"ul"},"Tipo: ",(0,r.kt)("strong",{parentName:"li"},"true"),", ",(0,r.kt)("strong",{parentName:"li"},"false"),", ",(0,r.kt)("strong",{parentName:"li"},"deep"))),(0,r.kt)("p",null,"If this is enabled, locally available packages are linked to ",(0,r.kt)("inlineCode",{parentName:"p"},"node_modules")," instead of being downloaded from the registry. This is very convenient in a monorepo. If you need local packages to also be linked to subdependencies, you can use the ",(0,r.kt)("inlineCode",{parentName:"p"},"deep")," setting."),(0,r.kt)("p",null,"Else, packages are downloaded and installed from the registry. However, workspace packages can still be linked by using the ",(0,r.kt)("inlineCode",{parentName:"p"},"workspace:")," range protocol."),(0,r.kt)("h3",{id:"prefer-workspace-packages"},"prefer-workspace-packages"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Padr\xe3o: ",(0,r.kt)("strong",{parentName:"li"},"low")),(0,r.kt)("li",{parentName:"ul"},"Tipo: ",(0,r.kt)("strong",{parentName:"li"},"Boolean"))),(0,r.kt)("p",null,"If this is enabled, local packages from the workspace are preferred over packages from the registry, even if there is a newer version of the package in the registry."),(0,r.kt)("p",null,"This setting is only useful if the workspace doesn't use ",(0,r.kt)("inlineCode",{parentName:"p"},"save-workspace-protocol"),"."),(0,r.kt)("h3",{id:"shared-workspace-lockfile"},"shared-workspace-lockfile"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Valor padr\xe3o: ",(0,r.kt)("strong",{parentName:"li"},"false")),(0,r.kt)("li",{parentName:"ul"},"Tipo: ",(0,r.kt)("strong",{parentName:"li"},"Boolean"))),(0,r.kt)("p",null,"If this is enabled, pnpm creates a single ",(0,r.kt)("inlineCode",{parentName:"p"},"pnpm-lock.yaml")," file in the root of the workspace. This also means that all dependencies of workspace packages will be in a single ",(0,r.kt)("inlineCode",{parentName:"p"},"node_modules")," (and get symlinked to their package ",(0,r.kt)("inlineCode",{parentName:"p"},"node_modules")," folder for Node's module resolution)."),(0,r.kt)("p",null,"Advantages of this option:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"every dependency is a singleton"),(0,r.kt)("li",{parentName:"ul"},"faster installations in a monorepo"),(0,r.kt)("li",{parentName:"ul"},"fewer changes in code reviews as they are all in one file")),(0,r.kt)("admonition",{type:"note"},(0,r.kt)("p",{parentName:"admonition"},"Even though all the dependencies will be hard linked into the root ",(0,r.kt)("inlineCode",{parentName:"p"},"node_modules"),", packages will have access only to those dependencies that are declared in their ",(0,r.kt)("inlineCode",{parentName:"p"},"package.json"),", so pnpm's strictness is preserved. This is a result of the aforementioned symbolic linking.")),(0,r.kt)("h3",{id:"save-workspace-protocol"},"save-workspace-protocol"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Valor padr\xe3o: ",(0,r.kt)("strong",{parentName:"li"},"false")),(0,r.kt)("li",{parentName:"ul"},"Tipo: ",(0,r.kt)("strong",{parentName:"li"},"true"),", ",(0,r.kt)("strong",{parentName:"li"},"false"),", ",(0,r.kt)("strong",{parentName:"li"},"rolling"))),(0,r.kt)("p",null,"Essa configura\xe7\xe3o controla como as depend\xeancias vinculadas do workspace s\xe3o adicionadas ao ",(0,r.kt)("inlineCode",{parentName:"p"},"package.json"),"."),(0,r.kt)("p",null,"Se ",(0,r.kt)("inlineCode",{parentName:"p"},"foo@1.0.0")," estiver no workspace e voc\xea executar ",(0,r.kt)("inlineCode",{parentName:"p"},"pnpm add foo")," em outro projeto do workspace, veja abaixo como ",(0,r.kt)("inlineCode",{parentName:"p"},"foo")," ser\xe1 adicionado ao campo de depend\xeancias. A configura\xe7\xe3o ",(0,r.kt)("inlineCode",{parentName:"p"},"save-prefix")," tamb\xe9m influencia como a especifica\xe7\xe3o \xe9 criada."),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:null},"save-workspace-protocol"),(0,r.kt)("th",{parentName:"tr",align:null},"save-prefix"),(0,r.kt)("th",{parentName:"tr",align:null},"spec"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"false"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"''")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"1.0.0"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"false"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"'~'")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"~1.0.0"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"false"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"'^'")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"^1.0.0"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"true"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"''")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"workspace:1.0.0"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"true"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"'~'")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"workspace:~1.0.0"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"true"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"'^'")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"workspace:^1.0.0"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"rolling"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"''")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"workspace:*"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"rolling"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"'~'")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"workspace:~"))),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:null},"rolling"),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"'^'")),(0,r.kt)("td",{parentName:"tr",align:null},(0,r.kt)("inlineCode",{parentName:"td"},"workspace:^"))))),(0,r.kt)("h3",{id:"include-workspace-root"},"include-workspace-root"),(0,r.kt)("p",null,"Adicionado em: v7.4.0"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Padr\xe3o: ",(0,r.kt)("strong",{parentName:"li"},"low")),(0,r.kt)("li",{parentName:"ul"},"Tipo: ",(0,r.kt)("strong",{parentName:"li"},"Boolean"))),(0,r.kt)("p",null,"Ao executar comandos recursivamente em um workspace, tamb\xe9m executa no projeto do workspace raiz."),(0,r.kt)("h2",{id:"outras-configura\xe7\xf5es"},"Outras configura\xe7\xf5es"),(0,r.kt)("h3",{id:"use-running-store-server"},"use-running-store-server"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Padr\xe3o: ",(0,r.kt)("strong",{parentName:"li"},"low")),(0,r.kt)("li",{parentName:"ul"},"Tipo: ",(0,r.kt)("strong",{parentName:"li"},"Boolean"))),(0,r.kt)("p",null,"Only allows installation with a store server. If no store server is running, installation will fail."),(0,r.kt)("h3",{id:"save-prefix"},"save-prefix"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Default: ",(0,r.kt)("strong",{parentName:"li"},"'^'")),(0,r.kt)("li",{parentName:"ul"},"Tipo: ",(0,r.kt)("strong",{parentName:"li"},"String"))),(0,r.kt)("p",null,"Configure how versions of packages installed to a ",(0,r.kt)("inlineCode",{parentName:"p"},"package.json")," file get prefixed."),(0,r.kt)("p",null,"For example, if a package has version ",(0,r.kt)("inlineCode",{parentName:"p"},"1.2.3"),", by default its version is set to ",(0,r.kt)("inlineCode",{parentName:"p"},"^1.2.3")," which allows minor upgrades for that package, but after ",(0,r.kt)("inlineCode",{parentName:"p"},"pnpm config set save-prefix='~'")," it would be set to ",(0,r.kt)("inlineCode",{parentName:"p"},"~1.2.3")," which only allows patch upgrades."),(0,r.kt)("p",null,"This setting is ignored when the added package has a range specified. For instance, ",(0,r.kt)("inlineCode",{parentName:"p"},"pnpm add foo@2")," will set the version of ",(0,r.kt)("inlineCode",{parentName:"p"},"foo")," in ",(0,r.kt)("inlineCode",{parentName:"p"},"package.json")," to ",(0,r.kt)("inlineCode",{parentName:"p"},"2"),", regardless of the value of ",(0,r.kt)("inlineCode",{parentName:"p"},"save-prefix"),"."),(0,r.kt)("h3",{id:"tag"},"tag"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Default: ",(0,r.kt)("strong",{parentName:"li"},"latest")),(0,r.kt)("li",{parentName:"ul"},"Tipo: ",(0,r.kt)("strong",{parentName:"li"},"String"))),(0,r.kt)("p",null,"If you ",(0,r.kt)("inlineCode",{parentName:"p"},"pnpm add")," a package and you don't provide a specific version, then it will install the package at the version registered under the tag from this setting."),(0,r.kt)("p",null,"This also sets the tag that is added to the ",(0,r.kt)("inlineCode",{parentName:"p"},"package@version")," specified by the ",(0,r.kt)("inlineCode",{parentName:"p"},"pnpm tag")," command if no explicit tag is given."),(0,r.kt)("h3",{id:"global-dir"},"global-dir"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Padr\xe3o:",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"Se a vari\xe1vel de ambiente ",(0,r.kt)("strong",{parentName:"li"},"$XDG_DATA_HOME")," estiver definida, ent\xe3o ",(0,r.kt)("strong",{parentName:"li"},"$XDG_DATA_HOME/pnpm/store")),(0,r.kt)("li",{parentName:"ul"},"No Windows: ",(0,r.kt)("strong",{parentName:"li"},"~/AppData/Local/pnpm/global")),(0,r.kt)("li",{parentName:"ul"},"No macOS: ",(0,r.kt)("strong",{parentName:"li"},"~/Library/pnpm/store")),(0,r.kt)("li",{parentName:"ul"},"No Linux: ",(0,r.kt)("strong",{parentName:"li"},"~/.local/share/pnpm/store")))),(0,r.kt)("li",{parentName:"ul"},"Tipo: ",(0,r.kt)("strong",{parentName:"li"},"caminho"))),(0,r.kt)("p",null,"Specify a custom directory to store global packages."),(0,r.kt)("h3",{id:"global-bin-dir"},"global-bin-dir"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Padr\xe3o:",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"If the ",(0,r.kt)("strong",{parentName:"li"},"$XDG_DATA_HOME")," env variable is set, then ",(0,r.kt)("strong",{parentName:"li"},"$XDG_DATA_HOME/pnpm")),(0,r.kt)("li",{parentName:"ul"},"On Windows: ",(0,r.kt)("strong",{parentName:"li"},"~/AppData/Local/pnpm")),(0,r.kt)("li",{parentName:"ul"},"On macOS: ",(0,r.kt)("strong",{parentName:"li"},"~/Library/pnpm")),(0,r.kt)("li",{parentName:"ul"},"On Linux: ",(0,r.kt)("strong",{parentName:"li"},"~/.local/share/pnpm")))),(0,r.kt)("li",{parentName:"ul"},"Tipo: ",(0,r.kt)("strong",{parentName:"li"},"caminho"))),(0,r.kt)("p",null,"Allows to set the target directory for the bin files of globally installed packages."),(0,r.kt)("h3",{id:"state-dir"},"state-dir"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Padr\xe3o:",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"Se a vari\xe1vel de ambiente ",(0,r.kt)("strong",{parentName:"li"},"$XDG_STATE_HOME")," estiver definida, ent\xe3o ",(0,r.kt)("strong",{parentName:"li"},"$XDG_STATE_HOME/pnpm")),(0,r.kt)("li",{parentName:"ul"},"No Windows: ",(0,r.kt)("strong",{parentName:"li"},"~/AppData/Local/pnpm-state")),(0,r.kt)("li",{parentName:"ul"},"No macOS: ",(0,r.kt)("strong",{parentName:"li"},"~/.pnpm-state")),(0,r.kt)("li",{parentName:"ul"},"No Linux: ",(0,r.kt)("strong",{parentName:"li"},"~/.local/state/pnpm")))),(0,r.kt)("li",{parentName:"ul"},"Tipo: ",(0,r.kt)("strong",{parentName:"li"},"caminho"))),(0,r.kt)("p",null,"The directory where pnpm creates the ",(0,r.kt)("inlineCode",{parentName:"p"},"pnpm-state.json")," file that is currently used only by the update checker."),(0,r.kt)("h3",{id:"cache-dir"},"cache-dir"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Padr\xe3o:",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"Se a vari\xe1vel de ambiente ",(0,r.kt)("strong",{parentName:"li"},"$XDG_CACHE_HOME")," estiver definida, ent\xe3o ",(0,r.kt)("strong",{parentName:"li"},"$XDG_CACHE_HOME/pnpm")),(0,r.kt)("li",{parentName:"ul"},"No Windows: ",(0,r.kt)("strong",{parentName:"li"},"~/AppData/Local/pnpm-cache")),(0,r.kt)("li",{parentName:"ul"},"No macOS: ",(0,r.kt)("strong",{parentName:"li"},"~/Library/Caches/pnpm")),(0,r.kt)("li",{parentName:"ul"},"No Linux: ",(0,r.kt)("strong",{parentName:"li"},"~/.cache/pnpm")))),(0,r.kt)("li",{parentName:"ul"},"Tipo: ",(0,r.kt)("strong",{parentName:"li"},"caminho"))),(0,r.kt)("p",null,"The location of the package metadata cache."),(0,r.kt)("h3",{id:"use-stderr"},"use-stderr"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Padr\xe3o: ",(0,r.kt)("strong",{parentName:"li"},"low")),(0,r.kt)("li",{parentName:"ul"},"Tipo: ",(0,r.kt)("strong",{parentName:"li"},"Boolean"))),(0,r.kt)("p",null,"When true, all the output is written to stderr."),(0,r.kt)("h3",{id:"update-notifier"},"update-notifier"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Valor padr\xe3o: ",(0,r.kt)("strong",{parentName:"li"},"false")),(0,r.kt)("li",{parentName:"ul"},"Tipo: ",(0,r.kt)("strong",{parentName:"li"},"Boolean"))),(0,r.kt)("p",null,"Set to ",(0,r.kt)("inlineCode",{parentName:"p"},"false")," to suppress the update notification when using an older version of pnpm than the latest."),(0,r.kt)("h3",{id:"prefer-symlinked-executables"},"prefer-symlinked-executables"),(0,r.kt)("p",null,"Adicionado em: v7.6.0"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Default: ",(0,r.kt)("strong",{parentName:"li"},"true"),", when ",(0,r.kt)("strong",{parentName:"li"},"node-linker")," is set to ",(0,r.kt)("strong",{parentName:"li"},"hoisted")," and the system is POSIX"),(0,r.kt)("li",{parentName:"ul"},"Tipo: ",(0,r.kt)("strong",{parentName:"li"},"Boolean"))),(0,r.kt)("p",null,"Create symlinks to executables in ",(0,r.kt)("inlineCode",{parentName:"p"},"node_modules/.bin")," instead of command shims. This setting is ignored on Windows, where only command shims work."),(0,r.kt)("h3",{id:"verify-store-integrity"},"verify-store-integrity"),(0,r.kt)("p",null,"Adicionado na vers\xe3o: v7.7.0"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Valor padr\xe3o: ",(0,r.kt)("strong",{parentName:"li"},"false")),(0,r.kt)("li",{parentName:"ul"},"Tipo: ",(0,r.kt)("strong",{parentName:"li"},"Boolean"))),(0,r.kt)("p",null,"By default, if a file in the store has been modified, the content of this file is checked before linking it to a project's ",(0,r.kt)("inlineCode",{parentName:"p"},"node_modules"),". If ",(0,r.kt)("inlineCode",{parentName:"p"},"verify-store-integrity")," is set to ",(0,r.kt)("inlineCode",{parentName:"p"},"false"),", files in the content-addressable store will not be checked during installation."),(0,r.kt)("h3",{id:"ignore-compatibility-db"},"ignore-compatibility-db"),(0,r.kt)("p",null,"Adicionado na vers\xe3o: v7.9.0"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Padr\xe3o: ",(0,r.kt)("strong",{parentName:"li"},"low")),(0,r.kt)("li",{parentName:"ul"},"Tipo: ",(0,r.kt)("strong",{parentName:"li"},"Boolean"))),(0,r.kt)("p",null,"During installation the dependencies of some packages are automatically patched. If you want to disable this, set this config to ",(0,r.kt)("inlineCode",{parentName:"p"},"false"),"."),(0,r.kt)("p",null,"The patches are applied from Yarn's ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/yarnpkg/berry/blob/master/packages/yarnpkg-extensions/sources/index.ts"},(0,r.kt)("inlineCode",{parentName:"a"},"@yarnpkg/extensions"))," package."),(0,r.kt)("h3",{id:"resolution-mode"},"resolution-mode"),(0,r.kt)("p",null,"Added in: v7.10.0"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Default: ",(0,r.kt)("strong",{parentName:"li"},"highest")),(0,r.kt)("li",{parentName:"ul"},"Type: ",(0,r.kt)("strong",{parentName:"li"},"highest"),", ",(0,r.kt)("strong",{parentName:"li"},"time-based"))),(0,r.kt)("p",null,"When ",(0,r.kt)("inlineCode",{parentName:"p"},"resolution-mode")," is set to ",(0,r.kt)("inlineCode",{parentName:"p"},"time-based"),", dependencies will be resolved the following way:"),(0,r.kt)("ol",null,(0,r.kt)("li",{parentName:"ol"},"Direct dependencies will be resolved to their lowest versions. So if there is ",(0,r.kt)("inlineCode",{parentName:"li"},"foo@^1.1.0")," in the dependencies, then ",(0,r.kt)("inlineCode",{parentName:"li"},"1.1.0")," will be installed."),(0,r.kt)("li",{parentName:"ol"},"Subdependencies will be resolved from versions that were published before the last direct dependency was published.")),(0,r.kt)("p",null,"With this resolution mode installations with warm cache are faster. It also reduces the chance of subdependency hijacking as subdependencies will be updated only if direct dependencies are updated."),(0,r.kt)("p",null,"This resolution mode works only with npm's ",(0,r.kt)("a",{parentName:"p",href:"https://github.com/npm/registry/blob/master/docs/responses/package-metadata.md#full-metadata-format"},"full metadata"),". So it is slower in some scenarios. However, if you use ",(0,r.kt)("a",{parentName:"p",href:"https://verdaccio.org/"},"Verdaccio")," v5.15.1 or newer, you may set the ",(0,r.kt)("inlineCode",{parentName:"p"},"registry-supports-time-field")," setting to ",(0,r.kt)("inlineCode",{parentName:"p"},"true"),", and it will be really fast."),(0,r.kt)("h3",{id:"registry-supports-time-field"},"registry-supports-time-field"),(0,r.kt)("p",null,"Added in v7.10.0"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Padr\xe3o: ",(0,r.kt)("strong",{parentName:"li"},"low")),(0,r.kt)("li",{parentName:"ul"},"Tipo: ",(0,r.kt)("strong",{parentName:"li"},"Boolean"))),(0,r.kt)("p",null,"Set this to ",(0,r.kt)("inlineCode",{parentName:"p"},"true"),' if the registry that you are using returns the "time" field in the abbreviated metadata. As of now, only ',(0,r.kt)("a",{parentName:"p",href:"https://verdaccio.org/"},"Verdaccio")," from v5.15.1 supports this."))}k.isMDXComponent=!0}}]);